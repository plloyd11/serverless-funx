---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import FetchShit from '../components/FetchShit.svelte';

let funxUrl = import.meta.env.DEV ? 'http://localhost:8888' : process.env.URL;

const response = await fetch(`${funxUrl}/api/ass`);
const data = await response.json();
---

<Layout title="Basic API">
    <section class="grid grid-cols-3 gap-4 px-4 mx-auto max-w-7xl">
        {
            data.map((item) => (
                <Card
                    key={item.id}
                    title={item.name}
                    description={item.price}
                    img={item.image.url}
                    link={item.id}
                />
            ))
        }
    </section>
</Layout>
